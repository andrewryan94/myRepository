<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8"> <title>EZ Shop - Cart</title>
	<link rel="stylesheet" type="text/css" href="styles.css">

</head>

<body id="container">
<header>
	<img src="images/logo.png" alt="EZ Shop logo" 	width="150" height="150">
<h1>Cart</h1>
</header>
<nav>
	<ul>
	<li><a href="index.html">Home Page</a></li>
	<li><a href="aboutus.html">About Us</a></li>
	<li><a href="products.html">Products</a></li>
	<li><a href="cart.html">Cart</a></li>
	<li><a href="contactus.html">Contact Us</a></li>
	</ul>
</nav>
<main>
	<h1 style="color:black">Shopping Cart</h1>
	<div class="cart-container">
 	<div class="cart-header">
      		<button id="clear-cart">Clear Cart</button>
	</div>
	</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Bananas.jpeg" alt="Bananas">
        <div class="cart-item-info">
		<h3>Bananas</h3>
		<p class="cart-item-price">$1.00</p>
	</div>
	<div class="cart-item">
        <img src="images/Bananas.jpeg" alt="Bananas">
        <div class="cart-item-info">
		<h3>Bananas</h3>
		<p class="cart-item-price">$1.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Blueberries.jpeg" alt="Blueberries">
		<div class="cart-item-info">
		<h3>Blueberries</h3>
		<p class="cart-item-price">$7.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Cotton_Candy_Grapes.jpeg" alt="Cotton Candy Grapes">
        <div class="cart-item-info">
		<h3>Cotton Candy Grapes</h3>
		<p class="cart-item-price">$7.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Guava.jpeg" alt="Guava">
		<div class="cart-item-info">
		<h3>Guava</h3>
		<p class="cart-item-price">$3.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Lychee.jpeg" alt="Lychee">
        <div class="cart-item-info">
		<h3>Lychee</h3>
		<p class="cart-item-price">$5.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Mango.jpeg" alt="Mango">
        <div class="cart-item-info">
		<h3>Mango</h3>
		<p class="cart-item-price">$2.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Pink_Pineapples.jpeg" alt="Pink Pineapples">
        <div class="cart-item-info">
		<h3>Pink Pineapples</h3>
		<p class="cart-item-price">$5.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Strawberries.jpeg" alt="Strawberries">
        <div class="cart-item-info">
		<h3>Strawberries</h3>
		<p class="cart-item-price">$7.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- Individual cart items -->
	<div class="cart-item">
        <img src="images/Yellow_Dragon_Fruit.jpeg" alt="Yellow Dragon Fruit">
        <div class="cart-item-info">
		<h3>Yellow_Dragon_Fruit</h3>
		<p class="cart-item-price">$5.00</p>
	</div>
	<div class="cart-item-quantity">
		<input type="number" value="0" min="0" max="9999" class="quantity">
	</div>
	<p class="cart-item-subtotal">$0.00</p>
	<button class="cart-item-remove">X</button>
</div>
<!-- ... more cart items ... -->
	<div class="cart-footer">
	<h4 style="color: black; font-size: 20px;">Total Price:</h4>
	<h4 id="total-price">Total: $0.00</h4>
	</div>
<!-- Checkout button -->
     <input type="button" class="button" onclick="window.location.href='https://andrewryan94.github.io/myRepository/payment.html';" 
	     value="Check Out">

</main>
	<footer>
	<p><a href="index.html">Home Page</a>&nbsp; | &nbsp;<a href="aboutus.html">About Us</a>&nbsp;| &nbsp;<a href="products.html">Products</a>&nbsp; | &nbsp;<a href="cart.html">Cart</a>&nbsp; | &nbsp;<a href="contactus.html">Contact Us</a></p>
	</footer>
<script>
window.onload = function () {
	let cartItems = document.querySelectorAll(".cart-item");
	let clearCartButton = document.getElementById("clear-cart");
	let totalPriceElement = document.getElementById("total-price");
		
	function calculateCartItemSubtotal(cartItem) {
		let priceElement = cartItem.querySelector(".cart-item-price");
		let quantityElement = cartItem.querySelector(".quantity");
		let subtotalElement = cartItem.querySelector(".cart-item-subtotal");

		let price = parseFloat(priceElement.innerText.replace("$", ""));
		let quantity = parseInt(quantityElement.value);
		let subtotal = price * quantity;

		subtotalElement.innerText = "$" + subtotal.toFixed(2);

	return subtotal;
	}
		
	function calculateTotalPrice() {
		let totalPrice = 0;

        for (let cartItem of cartItems) {
            let subtotalElement = cartItem.querySelector(".cart-item-subtotal");
            let subtotal = parseFloat(subtotalElement.innerText.replace("$", ""));
            totalPrice += subtotal;
        }

        totalPriceElement.innerText = "$" + totalPrice.toFixed(2);
    }
		
	
    for (let cartItem of cartItems) {
	let incrementButton = cartItem.querySelector(".increment");
	let decrementButton = cartItem.querySelector(".decrement");
	let removeButton = cartItem.querySelector(".cart-item-remove");
	let quantityInput = cartItem.querySelector(".quantity");
		
	incrementButton.addEventListener("click", function () {
		let quantity = parseInt(quantityInput.value);
		quantity++;
		quantityInput.value = quantity;
		let parent = this.parentElement.parentElement;
		let subtotal = calculateCartItemSubtotal(parent);
		calculateTotalPrice();
	});
		
	decrementButton.addEventListener("click", function () {
		let quantity = parseInt(quantityInput.value);
		if (quantity > 0) {
		quantity--;
		quantityInput.value = quantity;
		let parent = this.parentElement.parentElement;
		let subtotal = calculateCartItemSubtotal(parent);
		calculateTotalPrice();
	}
});
		
	removeButton.addEventListener("click", function () {
		cartItem.remove();
		calculateTotalPrice();
	});
		
	quantityInput.addEventListener("change", function () {
		let parent = this.parentElement.parentElement;
		let subtotal = calculateCartItemSubtotal(parent);
		calculateTotalPrice();
	});
}
	
clearCartButton.addEventListener("click", function () {
	for (let cartItem of cartItems) {
		cartItem.remove();
	}
		calculateTotalPrice();
	});
};
</script>
</body>
</html>
